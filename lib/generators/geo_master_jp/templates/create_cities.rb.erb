class CreateCities < ActiveRecord::Migration<%= migration_version %>
  def change
    create_table :geo_master_jp_cities do |t|
      t.string :geo_master_jp_prefecture_code, null: false, index: true, foreign_key: true

      t.datetime :deleted_at,                   index: true
      t.string   :code,            null: false, index: true
      t.string   :name,            null: false, index: true
      t.string   :name_kana,       null: false, index: true
      t.string   :name_alphabet,   null: false, index: true

      t.timestamps index: true
    end
    add_foreign_key :geo_master_jp_cities, :geo_master_jp_prefectures, column: :geo_master_jp_prefecture_code, primary_key: :code
  end
end
